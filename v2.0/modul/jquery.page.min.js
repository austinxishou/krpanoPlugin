!function(n){var t={init:function(n,a){return function(){t.fillHtml(n,a),t.bindEvent(n,a)}()},fillHtml:function(n,t){return function(){n.empty(),t.current>1?n.append('<a href="javascript:;" class="prevPage"><</a>'):(n.remove(".prevPage"),n.append('<span class="disabled"><</span>')),1!=t.current&&t.current>=4&&4!=t.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">1</a>'),t.current-2>2&&t.current<=t.pageCount&&t.pageCount>5&&n.append("<span>...</span>");var a=t.current-2,e=t.current+2;for((a>1&&t.current<4||1==t.current)&&e++,t.current>t.pageCount-4&&t.current>=t.pageCount&&a--;e>=a;a++)a<=t.pageCount&&a>=1&&n.append(a!=t.current?'<a href="javascript:;" class="tcdNumber">'+a+"</a>":'<span class="current">'+a+"</span>");t.current+2<t.pageCount-1&&t.current>=1&&t.pageCount>5&&n.append("<span>...</span>"),t.current!=t.pageCount&&t.current<t.pageCount-2&&4!=t.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">'+t.pageCount+"</a>"),t.current<t.pageCount?n.append('<a href="javascript:;" class="nextPage">></a>'):(n.remove(".nextPage"),n.append('<span class="disabled">></span>')),n.append('<span class="pagecount">共'+t.pageCount+"页</span>"),"true"==t.turndown&&n.append('<span class="countYe">到第<input type="text" maxlength='+t.pageCount.toString().length+'>页<a href="javascript:;" class="turndown">确定</a><span>')}()},bindEvent:function(a,e){return function(){a.on("click","a.tcdNumber",function(){var r=parseInt(n(this).text());t.fillHtml(a,{current:r,pageCount:e.pageCount,turndown:e.turndown}),"function"==typeof e.backFn&&e.backFn(r)}),a.on("click","a.prevPage",function(){var n=parseInt(a.children("span.current").text());t.fillHtml(a,{current:n-1,pageCount:e.pageCount,turndown:e.turndown}),"function"==typeof e.backFn&&e.backFn(n-1)}),a.on("click","a.nextPage",function(){var n=parseInt(a.children("span.current").text());t.fillHtml(a,{current:n+1,pageCount:e.pageCount,turndown:e.turndown}),"function"==typeof e.backFn&&e.backFn(n+1)}),a.on("click","a.turndown",function(){var r=n("span.countYe input").val();r>e.pageCount?alert("您的输入有误，请重新输入！"):(t.fillHtml(a,{current:r,pageCount:e.pageCount,turndown:e.turndown}),"function"==typeof e.backFn&&e.backFn(r))})}()}};n.fn.createPage=function(a){var e=n.extend({pageCount:10,current:1,turndown:!0,backFn:function(){}},a);t.init(this,e)}}(jQuery);